{"version":3,"file":"scene.js","sourceRoot":"","sources":["../../../src/client/o3d/scene.ts"],"names":[],"mappings":"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"}